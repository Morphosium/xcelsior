(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});

const index_1 = require("./index"); //@ts-ignore


window.xcelsior = index_1.default;

},{"./index":2}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.GridViewXcelsiorHTMLElement = exports.ScrollableXcelsiorHTMLElement = exports.RootXcelsiorHTMLElement = exports.XcelsiorHTMLElement = exports.MobileSidebarUtil = void 0;
const SHOW_ON_MOBILE_CLASS = "show-on-mobile";
const SECTION_NAME_ATTR = "section-name";
const SIDEBAR_CLASS = "sidebar";
const MOBILE_SAFE_VIEW = "mobile-view-safe";

class Util {
  /**
   * returns element fallback
   * @param el html element or selector
   */
  static nativeHTMLElement(el) {
    if (typeof el === "string") {
      return document.querySelector(el);
    } else {
      return el;
    }
  }

}

class MobileSidebarUtil {
  /**
   * When on small screens, if mobile view management is enabled on sidebar,
   * sidebar sections will be shown or hidden. If sectionName is not
   * @param element
   * @param sectionName
   */
  static toggleSidebarSection(element, sectionName, scrollUpSidebar = true) {
    var _a;

    const nativeElement = Util.nativeHTMLElement(element);
    const sidebarList = nativeElement.querySelectorAll(`.${MOBILE_SAFE_VIEW} > .wrap > .inner > .${SIDEBAR_CLASS}`);

    for (let sidebarIndex = 0; sidebarIndex < sidebarList.length; sidebarIndex++) {
      const sidebar = sidebarList[sidebarIndex];
      sidebar.classList.remove(SHOW_ON_MOBILE_CLASS);

      if (sidebar.getAttribute(SECTION_NAME_ATTR) === sectionName) {
        sidebar.classList.add(SHOW_ON_MOBILE_CLASS);
        if (scrollUpSidebar) sidebar.scrollTop = 0;
      }
    }

    const contentElementClassList = (_a = nativeElement.querySelector(`.content`)) === null || _a === void 0 ? void 0 : _a.classList;
    if (sectionName) contentElementClassList.add("hide");else {
      contentElementClassList.remove("hide");
    }
  }

}

exports.MobileSidebarUtil = MobileSidebarUtil;
exports.default = {
  Util,
  MobileSidebarUtil
};

const initXcelsiorElement = element => {
  var _a, _b;

  const wrapSupposed = element === null || element === void 0 ? void 0 : element.firstChild;
  const innerSupposed = wrapSupposed === null || wrapSupposed === void 0 ? void 0 : wrapSupposed.firstChild;

  if (((_a = wrapSupposed === null || wrapSupposed === void 0 ? void 0 : wrapSupposed.classList) === null || _a === void 0 ? void 0 : _a.contains("wrap")) && ((_b = innerSupposed === null || innerSupposed === void 0 ? void 0 : innerSupposed.classList) === null || _b === void 0 ? void 0 : _b.contains("inner"))) {//nothing
  } else if (element.getAttribute("no-auto-wrap") == null) {
    // create "wrap" and "inner" elements and move children into new "inner" element.
    const wrap = document.createElement("div");
    wrap.classList.add("wrap");
    const inner = document.createElement("div");
    inner.classList.add("inner");
    wrap.appendChild(inner); //All child elements (event texts) moved to by inner.append successfully

    inner.append(...element.childNodes);
    element.appendChild(wrap);
  }
};

class XcelsiorHTMLElement extends HTMLElement {
  constructor() {
    super();
    window.addEventListener("load", () => {
      initXcelsiorElement(this);
    });
  }

}

exports.XcelsiorHTMLElement = XcelsiorHTMLElement;

class RootXcelsiorHTMLElement extends HTMLElement {}

exports.RootXcelsiorHTMLElement = RootXcelsiorHTMLElement;

class ScrollableXcelsiorHTMLElement extends XcelsiorHTMLElement {}

exports.ScrollableXcelsiorHTMLElement = ScrollableXcelsiorHTMLElement;

class GridViewXcelsiorHTMLElement extends XcelsiorHTMLElement {}

exports.GridViewXcelsiorHTMLElement = GridViewXcelsiorHTMLElement;

if (typeof customElements.get("xcelsior-root") === "undefined") {
  customElements.define("xcelsior-root", RootXcelsiorHTMLElement);
}

if (typeof customElements.get("xcelsior-scrollable") === "undefined") {
  customElements.define("xcelsior-scrollable", ScrollableXcelsiorHTMLElement);
}

if (typeof customElements.get("xcelsior-grid-view") === "undefined") {
  customElements.define("xcelsior-grid-view", GridViewXcelsiorHTMLElement);
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvdHMvYnJvd3Nlci1zYWZlLnRzIiwic3JjL3RzL2luZGV4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7O0FDQUEsTUFBQSxPQUFBLEdBQUEsT0FBQSxDQUFBLFNBQUEsQ0FBQSxDLENBQ0E7OztBQUNBLE1BQU0sQ0FBQyxRQUFQLEdBQWtCLE9BQUEsQ0FBQSxPQUFsQjs7Ozs7Ozs7O0FDREEsTUFBTSxvQkFBb0IsR0FBRyxnQkFBN0I7QUFDQSxNQUFNLGlCQUFpQixHQUFHLGNBQTFCO0FBQ0EsTUFBTSxhQUFhLEdBQUcsU0FBdEI7QUFDQSxNQUFNLGdCQUFnQixHQUFHLGtCQUF6Qjs7QUFFQSxNQUFNLElBQU4sQ0FBVTtBQUVOOzs7QUFHRztBQUNxQixTQUFqQixpQkFBaUIsQ0FBQyxFQUFELEVBQXNCO0FBQzFDLFFBQUksT0FBTyxFQUFQLEtBQWMsUUFBbEIsRUFBNEI7QUFDeEIsYUFBTyxRQUFRLENBQUMsYUFBVCxDQUF1QixFQUF2QixDQUFQO0FBQ0gsS0FGRCxNQUdLO0FBQ0QsYUFBTyxFQUFQO0FBQ0g7QUFDSjs7QUFiSzs7QUFnQlYsTUFBYSxpQkFBYixDQUE4QjtBQUcxQjs7Ozs7QUFLRztBQUN3QixTQUFwQixvQkFBb0IsQ0FBQyxPQUFELEVBQTZCLFdBQTdCLEVBQW1ELGVBQWUsR0FBRyxJQUFyRSxFQUF5RTs7O0FBQ2hHLFVBQU0sYUFBYSxHQUFHLElBQUksQ0FBQyxpQkFBTCxDQUF1QixPQUF2QixDQUF0QjtBQUNBLFVBQU0sV0FBVyxHQUFHLGFBQWEsQ0FBQyxnQkFBZCxDQUErQixJQUFJLGdCQUFnQix3QkFBd0IsYUFBYSxFQUF4RixDQUFwQjs7QUFDQSxTQUFLLElBQUksWUFBWSxHQUFHLENBQXhCLEVBQTJCLFlBQVksR0FBRyxXQUFXLENBQUMsTUFBdEQsRUFBOEQsWUFBWSxFQUExRSxFQUE4RTtBQUMxRSxZQUFNLE9BQU8sR0FBRyxXQUFXLENBQUMsWUFBRCxDQUEzQjtBQUNBLE1BQUEsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsTUFBbEIsQ0FBeUIsb0JBQXpCOztBQUNBLFVBQUksT0FBTyxDQUFDLFlBQVIsQ0FBcUIsaUJBQXJCLE1BQTRDLFdBQWhELEVBQTZEO0FBQ3pELFFBQUEsT0FBTyxDQUFDLFNBQVIsQ0FBa0IsR0FBbEIsQ0FBc0Isb0JBQXRCO0FBQ0EsWUFBSSxlQUFKLEVBQXFCLE9BQU8sQ0FBQyxTQUFSLEdBQW9CLENBQXBCO0FBQ3hCO0FBQ0o7O0FBQ0QsVUFBTSx1QkFBdUIsR0FBRyxDQUFBLEVBQUEsR0FBQSxhQUFhLENBQUMsYUFBZCxDQUE0QixVQUE1QixDQUFBLE1BQXVDLElBQXZDLElBQXVDLEVBQUEsS0FBQSxLQUFBLENBQXZDLEdBQXVDLEtBQUEsQ0FBdkMsR0FBdUMsRUFBQSxDQUFFLFNBQXpFO0FBQ0EsUUFBSSxXQUFKLEVBQ0ksdUJBQXVCLENBQUMsR0FBeEIsQ0FBNEIsTUFBNUIsRUFESixLQUVLO0FBQ0QsTUFBQSx1QkFBdUIsQ0FBQyxNQUF4QixDQUErQixNQUEvQjtBQUNIO0FBQ0o7O0FBMUJ5Qjs7QUFBOUIsT0FBQSxDQUFBLGlCQUFBLEdBQUEsaUJBQUE7QUE2QkEsT0FBQSxDQUFBLE9BQUEsR0FBZTtBQUFFLEVBQUEsSUFBRjtBQUFRLEVBQUE7QUFBUixDQUFmOztBQUdBLE1BQU0sbUJBQW1CLEdBQUksT0FBRCxJQUF5Qjs7O0FBQ2pELFFBQU0sWUFBWSxHQUFHLE9BQU8sS0FBQSxJQUFQLElBQUEsT0FBTyxLQUFBLEtBQUEsQ0FBUCxHQUFPLEtBQUEsQ0FBUCxHQUFBLE9BQU8sQ0FBRSxVQUE5QjtBQUNBLFFBQU0sYUFBYSxHQUFHLFlBQVksS0FBQSxJQUFaLElBQUEsWUFBWSxLQUFBLEtBQUEsQ0FBWixHQUFZLEtBQUEsQ0FBWixHQUFBLFlBQVksQ0FBRSxVQUFwQzs7QUFDQSxNQUFJLENBQUEsQ0FBQSxFQUFBLEdBQUEsWUFBWSxLQUFBLElBQVosSUFBQSxZQUFZLEtBQUEsS0FBQSxDQUFaLEdBQVksS0FBQSxDQUFaLEdBQUEsWUFBWSxDQUFFLFNBQWQsTUFBdUIsSUFBdkIsSUFBdUIsRUFBQSxLQUFBLEtBQUEsQ0FBdkIsR0FBdUIsS0FBQSxDQUF2QixHQUF1QixFQUFBLENBQUUsUUFBRixDQUFXLE1BQVgsQ0FBdkIsTUFBNkMsQ0FBQSxFQUFBLEdBQUEsYUFBYSxLQUFBLElBQWIsSUFBQSxhQUFhLEtBQUEsS0FBQSxDQUFiLEdBQWEsS0FBQSxDQUFiLEdBQUEsYUFBYSxDQUFFLFNBQWYsTUFBd0IsSUFBeEIsSUFBd0IsRUFBQSxLQUFBLEtBQUEsQ0FBeEIsR0FBd0IsS0FBQSxDQUF4QixHQUF3QixFQUFBLENBQUUsUUFBRixDQUFXLE9BQVgsQ0FBckUsQ0FBSixFQUE4RixDQUMxRjtBQUNILEdBRkQsTUFHSyxJQUFJLE9BQU8sQ0FBQyxZQUFSLENBQXFCLGNBQXJCLEtBQXdDLElBQTVDLEVBQWtEO0FBQ25EO0FBQ0EsVUFBTSxJQUFJLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBYjtBQUNBLElBQUEsSUFBSSxDQUFDLFNBQUwsQ0FBZSxHQUFmLENBQW1CLE1BQW5CO0FBQ0EsVUFBTSxLQUFLLEdBQUcsUUFBUSxDQUFDLGFBQVQsQ0FBdUIsS0FBdkIsQ0FBZDtBQUNBLElBQUEsS0FBSyxDQUFDLFNBQU4sQ0FBZ0IsR0FBaEIsQ0FBb0IsT0FBcEI7QUFDQSxJQUFBLElBQUksQ0FBQyxXQUFMLENBQWlCLEtBQWpCLEVBTm1ELENBT25EOztBQUNBLElBQUEsS0FBSyxDQUFDLE1BQU4sQ0FBYSxHQUFHLE9BQU8sQ0FBQyxVQUF4QjtBQUNBLElBQUEsT0FBTyxDQUFDLFdBQVIsQ0FBb0IsSUFBcEI7QUFDSDtBQUNKLENBakJEOztBQW1CQSxNQUFhLG1CQUFiLFNBQXlDLFdBQXpDLENBQW9EO0FBQ2hELEVBQUEsV0FBQSxHQUFBO0FBQ0k7QUFDQSxJQUFBLE1BQU0sQ0FBQyxnQkFBUCxDQUF3QixNQUF4QixFQUFnQyxNQUFLO0FBQ2pDLE1BQUEsbUJBQW1CLENBQUMsSUFBRCxDQUFuQjtBQUNILEtBRkQ7QUFHSDs7QUFOK0M7O0FBQXBELE9BQUEsQ0FBQSxtQkFBQSxHQUFBLG1CQUFBOztBQVNBLE1BQWEsdUJBQWIsU0FBNkMsV0FBN0MsQ0FBd0Q7O0FBQXhELE9BQUEsQ0FBQSx1QkFBQSxHQUFBLHVCQUFBOztBQUNBLE1BQWEsNkJBQWIsU0FBbUQsbUJBQW5ELENBQXNFOztBQUF0RSxPQUFBLENBQUEsNkJBQUEsR0FBQSw2QkFBQTs7QUFDQSxNQUFhLDJCQUFiLFNBQWlELG1CQUFqRCxDQUFvRTs7QUFBcEUsT0FBQSxDQUFBLDJCQUFBLEdBQUEsMkJBQUE7O0FBQ0EsSUFBSSxPQUFPLGNBQWMsQ0FBQyxHQUFmLENBQW1CLGVBQW5CLENBQVAsS0FBK0MsV0FBbkQsRUFBZ0U7QUFDNUQsRUFBQSxjQUFjLENBQUMsTUFBZixDQUFzQixlQUF0QixFQUF1Qyx1QkFBdkM7QUFDSDs7QUFDRCxJQUFJLE9BQU8sY0FBYyxDQUFDLEdBQWYsQ0FBbUIscUJBQW5CLENBQVAsS0FBcUQsV0FBekQsRUFBc0U7QUFDbEUsRUFBQSxjQUFjLENBQUMsTUFBZixDQUFzQixxQkFBdEIsRUFBNkMsNkJBQTdDO0FBQ0g7O0FBQ0QsSUFBSSxPQUFPLGNBQWMsQ0FBQyxHQUFmLENBQW1CLG9CQUFuQixDQUFQLEtBQW9ELFdBQXhELEVBQXFFO0FBQ2pFLEVBQUEsY0FBYyxDQUFDLE1BQWYsQ0FBc0Isb0JBQXRCLEVBQTRDLDJCQUE1QztBQUNIIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IHhjZWxzaW9yIGZyb20gXCIuL2luZGV4XCJcbi8vQHRzLWlnbm9yZVxud2luZG93LnhjZWxzaW9yID0geGNlbHNpb3I7IiwidHlwZSBFbGVtZW50RGVmaW5pdGlvbiA9IEhUTUxFbGVtZW50IHwgc3RyaW5nO1xuY29uc3QgU0hPV19PTl9NT0JJTEVfQ0xBU1MgPSBcInNob3ctb24tbW9iaWxlXCI7XG5jb25zdCBTRUNUSU9OX05BTUVfQVRUUiA9IFwic2VjdGlvbi1uYW1lXCI7XG5jb25zdCBTSURFQkFSX0NMQVNTID0gXCJzaWRlYmFyXCI7XG5jb25zdCBNT0JJTEVfU0FGRV9WSUVXID0gXCJtb2JpbGUtdmlldy1zYWZlXCI7XG5cbmNsYXNzIFV0aWwge1xuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyBlbGVtZW50IGZhbGxiYWNrXG4gICAgICogQHBhcmFtIGVsIGh0bWwgZWxlbWVudCBvciBzZWxlY3RvclxuICAgICAqL1xuICAgIHN0YXRpYyBuYXRpdmVIVE1MRWxlbWVudChlbDogRWxlbWVudERlZmluaXRpb24pOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbFxuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgTW9iaWxlU2lkZWJhclV0aWwge1xuXG5cbiAgICAvKipcbiAgICAgKiBXaGVuIG9uIHNtYWxsIHNjcmVlbnMsIGlmIG1vYmlsZSB2aWV3IG1hbmFnZW1lbnQgaXMgZW5hYmxlZCBvbiBzaWRlYmFyLFxuICAgICAqIHNpZGViYXIgc2VjdGlvbnMgd2lsbCBiZSBzaG93biBvciBoaWRkZW4uIElmIHNlY3Rpb25OYW1lIGlzIG5vdFxuICAgICAqIEBwYXJhbSBlbGVtZW50IFxuICAgICAqIEBwYXJhbSBzZWN0aW9uTmFtZSBcbiAgICAgKi9cbiAgICBzdGF0aWMgdG9nZ2xlU2lkZWJhclNlY3Rpb24oZWxlbWVudDogRWxlbWVudERlZmluaXRpb24sIHNlY3Rpb25OYW1lPzogc3RyaW5nLCBzY3JvbGxVcFNpZGViYXIgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVsZW1lbnQgPSBVdGlsLm5hdGl2ZUhUTUxFbGVtZW50KGVsZW1lbnQpO1xuICAgICAgICBjb25zdCBzaWRlYmFyTGlzdCA9IG5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChgLiR7TU9CSUxFX1NBRkVfVklFV30gPiAud3JhcCA+IC5pbm5lciA+IC4ke1NJREVCQVJfQ0xBU1N9YCk7XG4gICAgICAgIGZvciAobGV0IHNpZGViYXJJbmRleCA9IDA7IHNpZGViYXJJbmRleCA8IHNpZGViYXJMaXN0Lmxlbmd0aDsgc2lkZWJhckluZGV4KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHNpZGViYXIgPSBzaWRlYmFyTGlzdFtzaWRlYmFySW5kZXhdO1xuICAgICAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKFNIT1dfT05fTU9CSUxFX0NMQVNTKTtcbiAgICAgICAgICAgIGlmIChzaWRlYmFyLmdldEF0dHJpYnV0ZShTRUNUSU9OX05BTUVfQVRUUikgPT09IHNlY3Rpb25OYW1lKSB7XG4gICAgICAgICAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QuYWRkKFNIT1dfT05fTU9CSUxFX0NMQVNTKTtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVXBTaWRlYmFyKSBzaWRlYmFyLnNjcm9sbFRvcCA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudEVsZW1lbnRDbGFzc0xpc3QgPSBuYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC5jb250ZW50YCk/LmNsYXNzTGlzdDtcbiAgICAgICAgaWYgKHNlY3Rpb25OYW1lKVxuICAgICAgICAgICAgY29udGVudEVsZW1lbnRDbGFzc0xpc3QuYWRkKFwiaGlkZVwiKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb250ZW50RWxlbWVudENsYXNzTGlzdC5yZW1vdmUoXCJoaWRlXCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IFV0aWwsIE1vYmlsZVNpZGViYXJVdGlsIH1cblxuXG5jb25zdCBpbml0WGNlbHNpb3JFbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgY29uc3Qgd3JhcFN1cHBvc2VkID0gZWxlbWVudD8uZmlyc3RDaGlsZCBhcyBIVE1MRWxlbWVudDtcbiAgICBjb25zdCBpbm5lclN1cHBvc2VkID0gd3JhcFN1cHBvc2VkPy5maXJzdENoaWxkIGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh3cmFwU3VwcG9zZWQ/LmNsYXNzTGlzdD8uY29udGFpbnMoXCJ3cmFwXCIpICYmIGlubmVyU3VwcG9zZWQ/LmNsYXNzTGlzdD8uY29udGFpbnMoXCJpbm5lclwiKSkge1xuICAgICAgICAvL25vdGhpbmdcbiAgICB9XG4gICAgZWxzZSBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJuby1hdXRvLXdyYXBcIikgPT0gbnVsbCkge1xuICAgICAgICAvLyBjcmVhdGUgXCJ3cmFwXCIgYW5kIFwiaW5uZXJcIiBlbGVtZW50cyBhbmQgbW92ZSBjaGlsZHJlbiBpbnRvIG5ldyBcImlubmVyXCIgZWxlbWVudC5cbiAgICAgICAgY29uc3Qgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgIHdyYXAuY2xhc3NMaXN0LmFkZChcIndyYXBcIilcbiAgICAgICAgY29uc3QgaW5uZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICBpbm5lci5jbGFzc0xpc3QuYWRkKFwiaW5uZXJcIik7XG4gICAgICAgIHdyYXAuYXBwZW5kQ2hpbGQoaW5uZXIpO1xuICAgICAgICAvL0FsbCBjaGlsZCBlbGVtZW50cyAoZXZlbnQgdGV4dHMpIG1vdmVkIHRvIGJ5IGlubmVyLmFwcGVuZCBzdWNjZXNzZnVsbHlcbiAgICAgICAgaW5uZXIuYXBwZW5kKC4uLmVsZW1lbnQuY2hpbGROb2Rlcyk7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQod3JhcCk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgWGNlbHNpb3JIVE1MRWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsICgpID0+IHtcbiAgICAgICAgICAgIGluaXRYY2Vsc2lvckVsZW1lbnQodGhpcyk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUm9vdFhjZWxzaW9ySFRNTEVsZW1lbnQgZXh0ZW5kcyBIVE1MRWxlbWVudCB7IH1cbmV4cG9ydCBjbGFzcyBTY3JvbGxhYmxlWGNlbHNpb3JIVE1MRWxlbWVudCBleHRlbmRzIFhjZWxzaW9ySFRNTEVsZW1lbnQgeyB9XG5leHBvcnQgY2xhc3MgR3JpZFZpZXdYY2Vsc2lvckhUTUxFbGVtZW50IGV4dGVuZHMgWGNlbHNpb3JIVE1MRWxlbWVudCB7IH1cbmlmICh0eXBlb2YgY3VzdG9tRWxlbWVudHMuZ2V0KFwieGNlbHNpb3Itcm9vdFwiKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInhjZWxzaW9yLXJvb3RcIiwgUm9vdFhjZWxzaW9ySFRNTEVsZW1lbnQpO1xufVxuaWYgKHR5cGVvZiBjdXN0b21FbGVtZW50cy5nZXQoXCJ4Y2Vsc2lvci1zY3JvbGxhYmxlXCIpID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwieGNlbHNpb3Itc2Nyb2xsYWJsZVwiLCBTY3JvbGxhYmxlWGNlbHNpb3JIVE1MRWxlbWVudCk7XG59XG5pZiAodHlwZW9mIGN1c3RvbUVsZW1lbnRzLmdldChcInhjZWxzaW9yLWdyaWQtdmlld1wiKSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGN1c3RvbUVsZW1lbnRzLmRlZmluZShcInhjZWxzaW9yLWdyaWQtdmlld1wiLCBHcmlkVmlld1hjZWxzaW9ySFRNTEVsZW1lbnQpO1xufVxuIl19
